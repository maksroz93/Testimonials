<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>–ú–∞–∫—Å–∏–º –†–æ–∑—è—î–≤ | –î–∏—Ç—è—á–∏–π –Ω–µ–≤—Ä–æ–ª–æ–≥ </title>
    <meta name="description" content="–Ü—Å—Ç–æ—Ä—ñ—ó —Ç–∞ –≤—ñ–¥–≥—É–∫–∏ –±–∞—Ç—å–∫—ñ–≤.">
    
    <link rel="icon" href="https://maksroz93.github.io/Testimonials/icon.png">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/blueimp-md5/2.18.0/js/md5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary: #111827;
            --accent: #007AFF;
            --bg: #F9FAFB;
            --card-bg: #ffffff;
            --text-secondary: #9CA3AF;
        }

        body { font-family: 'Inter', sans-serif; background-color: var(--bg); margin: 0; padding: 0; color: var(--primary); line-height: 1.5; }

        /* HEADER */
        .profile-header { background: white; text-align: center; padding: 40px 20px; border-bottom: 1px solid #eee; margin-bottom: 40px; }
        .profile-img { width: 100px; height: 100px; border-radius: 50%; object-fit: cover; margin-bottom: 15px; border: 3px solid white; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        .profile-name { font-size: 1.5rem; font-weight: 700; margin: 0 0 5px 0; }
        .profile-bio { color: #6B7280; font-size: 0.95rem; margin-bottom: 20px; }
        
        .buttons-container { display: flex; gap: 12px; justify-content: center; flex-wrap: wrap; }
        
        .btn-primary { 
            display: inline-block; background-color: #007AFF; color: white; text-decoration: none; 
            padding: 12px 28px; border-radius: 50px; font-weight: 600; transition: transform 0.2s, box-shadow 0.2s; 
            box-shadow: 0 4px 6px rgba(0, 122, 255, 0.2); border: 2px solid #007AFF;
            cursor: pointer;
        }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 6px 12px rgba(0, 122, 255, 0.3); }

        .btn-secondary {
            display: inline-block; background-color: transparent; color: #007AFF; text-decoration: none; 
            padding: 12px 28px; border-radius: 50px; font-weight: 600; transition: transform 0.2s; 
            border: 2px solid #e5e7eb;
            cursor: pointer;
        }
        .btn-secondary:hover { border-color: #007AFF; background-color: #f0f9ff; transform: translateY(-2px); }

        /* WALL */
        .wall-container { display: flex; gap: 24px; max-width: 1100px; margin: 0 auto; padding: 0 20px 40px 20px; align-items: flex-start; }
        .wall-column { flex: 1; display: flex; flex-direction: column; gap: 24px; min-width: 0; }

        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        .review-card {
            background: var(--card-bg); border-radius: 16px; padding: 24px;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1); border: 1px solid #f3f4f6;
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            animation: fadeInUp 0.6s ease-out forwards; opacity: 0;
            display: flex; flex-direction: column;
            position: relative;
        }

        .review-card:hover { 
            transform: translateY(-8px); 
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            z-index: 10; border-color: transparent;
        }

        .card-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 12px; }
        .author { display: flex; align-items: center; gap: 12px; }
        .patient-avatar { width: 44px; height: 44px; border-radius: 50%; background-color: #eee; object-fit: cover; }
        .author-info { display: flex; flex-direction: column; }
        
        .name-row { display: flex; align-items: center; gap: 6px; }
        .author-name { font-weight: 600; font-size: 0.95rem; color: var(--primary); text-decoration: none; }
        a.author-name:hover { color: var(--accent); text-decoration: underline; }
        
        .verified-icon { width: 14px; height: 14px; vertical-align: middle; }
        .author-meta { font-size: 0.75rem; color: #9CA3AF; margin-top: 2px; }
        
        .source-link { transition: transform 0.2s; display: block; }
        .source-link:hover { transform: scale(1.1); }
        .source-icon { width: 22px; height: 22px; opacity: 0.8; }
        
        .stars { color: #FFB400; font-size: 1.1rem; letter-spacing: 1px; margin-bottom: 12px; }
        .review-text { font-size: 0.95rem; color: #374151; line-height: 1.6; margin-bottom: 16px; }

        .card-footer {
            margin-top: auto; padding-top: 16px; border-top: 1px solid #f3f4f6;
            display: flex; justify-content: space-between; align-items: center;
            font-size: 0.75rem; color: var(--text-secondary);
        }

        .hashtag { color: #9CA3AF; font-weight: 500; font-size: 0.8rem; font-style: italic; }
        .badge { font-size: 0.7rem; padding: 2px 8px; border-radius: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; display: inline-flex; align-items: center; gap: 4px; }
        .badge-online { background-color: #E0F2FE; color: #0284C7; }
        .badge-offline { background-color: #F3E8FF; color: #7E22CE; }

        /* SKELETON */
        .skeleton-card { background: white; border-radius: 16px; padding: 24px; height: 180px; border: 1px solid #f3f4f6; }
        .skeleton-pulse { background: linear-gradient(90deg, #f0f0f0 25%, #f7f7f7 50%, #f0f0f0 75%); background-size: 200% 100%; animation: pulse 1.5s infinite; border-radius: 4px; }
        @keyframes pulse { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }
        .sk-header { display: flex; gap: 12px; margin-bottom: 20px; }
        .sk-avatar { width: 44px; height: 44px; border-radius: 50%; }
        .sk-info { flex: 1; display: flex; flex-direction: column; gap: 6px; justify-content: center; }
        .sk-line { height: 12px; width: 60%; }
        .sk-line-sm { height: 10px; width: 40%; }
        .sk-text { height: 12px; width: 100%; margin-bottom: 8px; }

        footer { text-align: center; padding: 60px 20px 80px 20px; background: white; border-top: 1px solid #eee; margin-top: 40px; }
        .footer-socials { display: flex; justify-content: center; gap: 20px; margin-bottom: 30px; }
        .social-btn img { width: 32px; height: 32px; transition: transform 0.2s; }
        .social-btn:hover img { transform: scale(1.15); }
        .copyright { margin-top: 30px; font-size: 0.8rem; color: #999; }

        @media (max-width: 768px) { .wall-container { flex-direction: column; } .wall-column { width: 100%; } }
    </style>
</head>
<body>

    <div class="profile-header">
        <img src="https://cdn-icons-png.flaticon.com/512/3774/3774299.png" alt="Doctor" class="profile-img" id="header-photo">
        
        <h1 class="profile-name">–ú–∞–∫—Å–∏–º –†–æ–∑—è—î–≤</h1>
        
        <p class="profile-bio">
            –î–∏—Ç—è—á–∏–π –Ω–µ–≤—Ä–æ–ª–æ–≥
            <span id="counter-wrapper" style="display:none">
                ‚Ä¢ <span id="review-count">...</span>
            </span>
        </p>
        
        <div class="buttons-container">
            <a href="#" class="btn-primary js-booking-btn">üìÖ –ó–∞–ø–∏—Å–∞—Ç–∏—Å—å</a>
            <a href="#" class="btn-secondary" id="btn-write-review">‚úçÔ∏è –ù–∞–ø–∏—Å–∞—Ç–∏ –≤—ñ–¥–≥—É–∫</a>
        </div>
    </div>

    <div id="reviews-wall" class="wall-container">
        <div class="wall-column"><div class="skeleton-card"><div class="sk-header"><div class="skeleton-pulse sk-avatar"></div><div class="sk-info"><div class="skeleton-pulse sk-line"></div><div class="skeleton-pulse sk-line-sm"></div></div></div><div class="skeleton-pulse sk-text"></div><div class="skeleton-pulse sk-text"></div><div class="skeleton-pulse sk-text" style="width: 70%"></div></div></div>
        <div class="wall-column"><div class="skeleton-card"><div class="sk-header"><div class="skeleton-pulse sk-avatar"></div><div class="sk-info"><div class="skeleton-pulse sk-line"></div></div></div><div class="skeleton-pulse sk-text"></div><div class="skeleton-pulse sk-text"></div></div></div>
        <div class="wall-column"><div class="skeleton-card"><div class="sk-header"><div class="skeleton-pulse sk-avatar"></div><div class="sk-info"><div class="skeleton-pulse sk-line"></div></div></div><div class="skeleton-pulse sk-text"></div><div class="skeleton-pulse sk-text"></div></div></div>
    </div>

    <footer>
        <p style="color: #666; margin-bottom: 15px; font-weight: 500;">–ü—ñ–¥–ø–∏—Å—É–π—Ç–µ—Å—å –Ω–∞ —Å–æ—Ü–º–µ—Ä–µ–∂—ñ:</p>
        <div class="footer-socials">
            <a href="#" target="_blank" class="social-btn" id="footer-insta">
                <img src="https://cdn-icons-png.flaticon.com/512/174/174855.png" alt="Instagram">
            </a>
            <a href="#" target="_blank" class="social-btn" id="footer-tg">
                <img src="https://cdn-icons-png.flaticon.com/512/2111/2111646.png" alt="Telegram">
            </a>
        </div>
        <a href="#" class="btn-primary js-booking-btn">üìÖ –ó–∞–ø–∏—Å–∞—Ç–∏—Å—å –Ω–∞ –ø—Ä–∏–π–æ–º</a>
        <p class="copyright">¬© 2025 –í—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω–æ</p>
    </footer>

    <script>
        // ==========================================
        //         –ù–ê–õ–ê–®–¢–£–í–ê–ù–ù–Ø (–ó–ê–ü–û–í–ù–Ü–¢–¨ –¢–£–¢)
        // ==========================================
        const CONFIG = {
            // 1. –í–ê–®–Ü –î–ê–ù–Ü –¢–ê –ü–û–°–ò–õ–ê–ù–ù–Ø (–í—Å—Ç–∞–≤—Ç–µ —Å–≤–æ—ó)
            PROFILE_PHOTO: 'https://scontent.fiev26-1.fna.fbcdn.net/v/t39.30808-6/587829372_25633221109619194_1897575360393749294_n.jpg?_nc_cat=108&ccb=1-7&_nc_sid=6ee11a&_nc_ohc=OQlunsTt2lMQ7kNvwFVlzN8&_nc_oc=AdmURSWtqRb-aHKToldJ_eA7xwUUN9A3Chw7H7rGNIv3feHJYNcbBiv17EkZpqByawM&_nc_zt=23&_nc_ht=scontent.fiev26-1.fna&_nc_gid=pfMcgGfPBGyaPyUsam_GTQ&oh=00_AfnzTRaOjKQncHcVXzQAEJKx0lAWTSntjL3XsW2YJjxE3Q&oe=694A5ECA', // <-- –ü–û–°–ò–õ–ê–ù–ù–Ø –ù–ê –í–ê–®–ï –§–û–¢–û
            SHEET_URL:     'https://docs.google.com/spreadsheets/d/e/2PACX-1vSs5tdxHhDMHgMHYlC8sms6RUVGDBvG_6lSp2F8SQ-0GqmtgjIPNbG9ekag5Pk5goHEeZCHAy9UA6YN/pub?gid=167862335&single=true&output=csv',
            FORM_URL:      'https://forms.gle/L4hsU4s6WrFqc3UZA', // <-- –ü–û–°–ò–õ–ê–ù–ù–Ø –ù–ê –§–û–†–ú–£
            BOOKING_URL:   'https://tidycal.com/roziaiev-md', // <-- –ü–û–°–ò–õ–ê–ù–ù–Ø –ù–ê –ó–ê–ü–ò–°
            INSTAGRAM_URL: 'https://instagram.com/roziaievmd',
            TELEGRAM_URL:  'https://t.me/roziaiev_neuro',

            // 2. –í–Ü–ó–£–ê–õ–¨–ù–Ü –ù–ê–õ–ê–®–¢–£–í–ê–ù–ù–Ø
            SHOW_TOTAL_COUNT: true,  // true = –ø–æ–∫–∞–∑–∞—Ç–∏ –ª—ñ—á–∏–ª—å–Ω–∏–∫, false = —Å—Ö–æ–≤–∞—Ç–∏
            SHOW_REASON_TAG:  true    // true = –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ –ø—Ä–∏—á–∏–Ω—É, false = —Å—Ö–æ–≤–∞—Ç–∏
        };
        // ==========================================

        // --- –ê–í–¢–û–ú–ê–¢–ò–ß–ù–ï –ó–ê–ü–û–í–ù–ï–ù–ù–Ø –ü–û–°–ò–õ–ê–ù–¨ ---
        document.addEventListener('DOMContentLoaded', () => {
            // –§–æ—Ç–æ –ª—ñ–∫–∞—Ä—è
            const profileImg = document.getElementById('header-photo');
            if(profileImg && CONFIG.PROFILE_PHOTO) profileImg.src = CONFIG.PROFILE_PHOTO;

            // –ö–Ω–æ–ø–∫–∏ –∑–∞–ø–∏—Å—É
            document.querySelectorAll('.js-booking-btn').forEach(btn => btn.href = CONFIG.BOOKING_URL);
            
            // –ö–Ω–æ–ø–∫–∞ –≤—ñ–¥–≥—É–∫—É
            const reviewBtn = document.getElementById('btn-write-review');
            if(reviewBtn) reviewBtn.href = CONFIG.FORM_URL;
            
            // –°–æ—Ü–º–µ—Ä–µ–∂—ñ
            const instaBtn = document.getElementById('footer-insta');
            if(instaBtn) instaBtn.href = CONFIG.INSTAGRAM_URL;
            const tgBtn = document.getElementById('footer-tg');
            if(tgBtn) tgBtn.href = CONFIG.TELEGRAM_URL;
        });


        function getStars(rating) {
            if (!rating) rating = 5;
            return '‚òÖ'.repeat(rating) + '‚òÜ'.repeat(5 - rating);
        }
        window.handleImageError = function(img, fallbackUrl) { if (img.src !== fallbackUrl) img.src = fallbackUrl; };
        
        const verifiedSvg = `<img src="https://cdn-icons-png.flaticon.com/512/7595/7595571.png" class="verified-icon" title="–ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–∏–π –≤—ñ–¥–≥—É–∫" alt="Verified">`;

        Papa.parse(CONFIG.SHEET_URL, {
            download: true,
            header: true,
            skipEmptyLines: true,
            complete: function(results) {
                const data = results.data.reverse(); 
                
                // –õ–Ü–ß–ò–õ–¨–ù–ò–ö
                if (CONFIG.SHOW_TOTAL_COUNT && data.length > 0) {
                    document.getElementById('counter-wrapper').style.display = 'inline';
                    document.getElementById('review-count').innerText = `${data.length} –≤—ñ–¥–≥—É–∫—ñ–≤`;
                }

                const container = document.getElementById('reviews-wall');
                container.innerHTML = `
                    <div class="wall-column" id="col-1"></div>
                    <div class="wall-column" id="col-2"></div>
                    <div class="wall-column" id="col-3"></div>
                `;

                const columns = [
                    document.getElementById('col-1'),
                    document.getElementById('col-2'),
                    document.getElementById('col-3')
                ];

                data.forEach((row, index) => {
                    const name = row['Name'] || '–ê–Ω–æ–Ω—ñ–º–Ω–æ';
                    const review = row['Review'];
                    if (!review) return;

                    const rating = parseInt(row['Rating'] || '5');
                    const detail = row['Detail'] || '';
                    const email = row['Email'] || '';
                    const rawNick = row['Instagram'] || '';
                    const date = row['Date'] || row['–î–∞—Ç–∞'] || '';
                    const topic = row['Topic'] || row['Reason'] || row['–¢–µ–º–∞'] || row['–ü—Ä–∏—á–∏–Ω–∞'] || '';
                    
                    // –•–ï–®–¢–ï–ì –ü–†–ò–ß–ò–ù–ò
                    let hashtagHtml = '';
                    if (topic && CONFIG.SHOW_REASON_TAG) {
                        const cleanTopic = topic.replace(/\s+/g, '');
                        hashtagHtml = `<span class="hashtag">#${cleanTopic}</span>`;
                    }

                    const format = (row['Format'] || row['–§–æ—Ä–º–∞—Ç'] || '').toLowerCase();
                    let badgeHtml = '';
                    if (format.includes('on') || format.includes('–æ–Ω–ª')) {
                        badgeHtml = `<span class="badge badge-online">üåê –û–Ω–ª–∞–π–Ω</span>`;
                    } else if (format.includes('off') || format.includes('–æ—Ñ') || format.includes('–∫–ª—ñ–Ω—ñ–∫')) {
                        badgeHtml = `<span class="badge badge-offline">üè• –û—Ñ–ª–∞–π–Ω</span>`;
                    }

                    let instaNick = rawNick.replace('@', '').replace(/https?:\/\/(www\.)?instagram\.com\//, '').replace(/\/$/, '').trim();
                    let avatarUrl = '';
                    if (email) {
                        const emailHash = md5(email.trim().toLowerCase());
                        avatarUrl = `https://www.gravatar.com/avatar/${emailHash}?d=404&s=200`;
                    } else if (instaNick) {
                        avatarUrl = `https://unavatar.io/instagram/${instaNick}`;
                    }
                    const fallbackSrc = `https://ui-avatars.com/api/?name=${name}&background=random&color=fff&size=128`;
                    if (!avatarUrl) avatarUrl = fallbackSrc;

                    // –í–ï–†–ò–§–Ü–ö–ê–¶–Ü–Ø
                    const isVerified = (email.length > 0 || instaNick.length > 0);
                    const verificationBadge = isVerified ? verifiedSvg : '';

                    let nameHtml = instaNick 
                        ? `<a href="https://instagram.com/${instaNick}" target="_blank" class="author-name">${name}</a> ${verificationBadge}`
                        : `<span class="author-name">${name}</span> ${verificationBadge}`;

                    let sourceIconHtml = instaNick
                        ? `<a href="https://instagram.com/${instaNick}" target="_blank" class="source-link"><img src="https://cdn-icons-png.flaticon.com/512/174/174855.png" class="source-icon" alt="IG"></a>`
                        : ``;

                    let metaText = date;
                    if (date && detail) metaText += ' ‚Ä¢ ';
                    if (detail) metaText += detail;

                    let footerHtml = '';
                    if (hashtagHtml || badgeHtml) {
                        footerHtml = `
                            <div class="card-footer">
                                ${hashtagHtml}
                                ${badgeHtml}
                            </div>
                        `;
                    }

                    const card = document.createElement('div');
                    card.className = 'review-card';
                    card.style.animationDelay = `${index * 0.1}s`;
                    
                    card.innerHTML = `
                        <div class="card-header">
                            <div class="author">
                                <img src="${avatarUrl}" class="patient-avatar" loading="lazy" onerror="handleImageError(this, '${fallbackSrc}')">
                                <div class="author-info">
                                    <div class="name-row">${nameHtml}</div>
                                    ${metaText ? `<span class="author-meta">${metaText}</span>` : ''}
                                </div>
                            </div>
                            ${sourceIconHtml}
                        </div>
                        <div class="stars">${getStars(rating)}</div>
                        <div class="review-text">${review}</div>
                        ${footerHtml}
                    `;

                    columns[index % 3].appendChild(card);
                });
            }
        });
    </script>
</body>
</html>
